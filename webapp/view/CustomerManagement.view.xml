<mvc:View
  xmlns:mvc="sap.ui.core.mvc"
  xmlns:layout="sap.ui.layout"
  xmlns:core="sap.ui.core"
  xmlns="sap.m"
  controllerName="csrdreporting.controller.CustomerManagement"
  height="100%">
  <Page id="CustomerManagementPageLayout" showFooter="true">
    <content>
      <layout:FixFlex class="fixFlexVertical">
        <layout:fixContent>
          <ObjectHeader title="{i18n>Management_Title}" backgroundDesign="Solid" condensed="true">
            <ObjectAttribute text="Manage the customers and filled questionnaires." />
          </ObjectHeader>
        </layout:fixContent>
        <layout:flexContent>
          <SplitContainer id="splitContainer" initialDetail="placeholder" initialMaster="master">
            <masterPages>
              <Page id="master" title="Customers" backgroundDesign="List">
                <headerContent>
                  <Button icon="sap-icon://add" tooltip="Add Customer" press="onCustomerAddPress" />
                </headerContent>
                <List items="{svc>/CustomerSet}">
                  <CustomListItem>
                    <HBox>
                      <core:Icon
                        size="2rem"
                        src="sap-icon://person-placeholder"
                        class="sapUiSmallMarginBegin sapUiSmallMarginTopBottom"
                      />
                      <VBox class="sapUiSmallMarginBegin sapUiSmallMarginTopBottom">
                        <Text text="{svc>Name}" />
                        <Label text="{svc>CustomerCode}" />
                      </VBox>
                      <HBox alignItems="Center" justifyContent="End" width="100%">
                        <Button
                          icon="sap-icon://edit"
                          type="Transparent"
                          tooltip="Edit Customer"
                          press=".onCustomerEditPress"
                        />
                        <Button icon="sap-icon://decline" type="Transparent" tooltip="Delete Customer" />
                      </HBox>
                    </HBox>
                  </CustomListItem>
                </List>
                <Dialog id="customerDialog" title="{state>/customerDialogTitle}" draggable="true">
                  <content>
                    <VBox class="sapUiLargeMargin">
                      <Text text="{i18n>Management_DialogCustomerName}" />
                      <Input id="customerName" value="{state>/customerName}" />
                      <Text text="{i18n>Management_DialogCustomerCode}" />
                      <Input id="customerCode" value="{state>/customerCode}" />
                    </VBox>
                  </content>
                  <beginButton>
                    <Button text="{i18n>Management_SubmitCustomer}" press="onCustomerDialogSubmit" type="Emphasized" />
                  </beginButton>
                  <endButton>
                    <Button text="{i18n>Management_CancelCustomerDialog}" press="" />
                  </endButton>
                </Dialog>
              </Page>
            </masterPages>
            <detailPages>

            </detailPages>
          </SplitContainer>
        </layout:flexContent>
      </layout:FixFlex>
    </content>
  </Page>
</mvc:View>
