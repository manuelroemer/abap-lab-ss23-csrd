<mvc:View
  xmlns:layout="sap.ui.layout"
  controllerName="csrdreporting.controller.FormBuilder"
  xmlns:mvc="sap.ui.core.mvc"
  displayBlock="true"
  xmlns="sap.m"
  xmlns:formengine="csrdreporting.formengine"
  xmlns:ce="sap.ui.codeeditor">
  <Page id="page" title="{i18n>FormBuilder_Title}" showNavButton="true" navButtonPress="navBack">
    <layout:ResponsiveSplitter defaultPane="formEngine">
      <layout:PaneContainer>
        <layout:SplitPane id="formEngine">
          <VBox>
            <OverflowToolbar>
              <Label text="{= ${state>/currentPage/title} || ${state>/currentPage/id} }" />
              <ToolbarSpacer />
              <Button
                text="{i18n>FormBuilder_PreviousPage}"
                enabled="{state>/canGoBackward}"
                press="onPreviousPagePress"
              />
              <Button
                text="{i18n>FormBuilder_NextPage}"
                enabled="{state>/canGoForward}"
                visible="{= !${state>/canSubmit} }"
                press="onNextPagePress"
              />
              <Button text="{i18n>FormBuilder_Submit}" visible="{state>/canSubmit}" press="onSubmitPress" />
            </OverflowToolbar>
            <formengine:FormEngine class="sapUiResponsiveMargin" formEngineContext="{state>/}" />
          </VBox>
        </layout:SplitPane>
        <layout:SplitPane>
          <IconTabBar applyContentPadding="false" stretchContentHeight="true" class="form-builder-icon-bar">
            <items>
              <IconTabFilter key="schema" text="{i18n>FormBuilder_SchemaTab}">
                <ce:CodeEditor type="json" value="{state>/schemaJson}" />
              </IconTabFilter>
              <IconTabFilter key="state" text="{i18n>FormBuilder_StateTab}">
                <ce:CodeEditor type="json" value="{state>/stateJson}" />
              </IconTabFilter>
            </items>
          </IconTabBar>
        </layout:SplitPane>
      </layout:PaneContainer>
    </layout:ResponsiveSplitter>
  </Page>
</mvc:View>
